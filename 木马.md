# 木马

## 根据开源的木马

computer => 程序（后续）

linux

- windows
  - 功能 Windows API === Windows 核心编程
  - 进程，线程 + 内核（rootkit）
  - 木马样本
    - 逆向
      - 工具的使用（IDA、OD 32位、X64DBG 64位、Windbg（强）、gdb、ildb）
        - script 脚本 一次性下很多断点
      - 理解代码
        - A、B、C、三个木马样本（找ABC 共同实现的功能）
          - ===》大多数木马都需要去实现某个功能 | 看代码
            - API的组合 是X+Y+Z 去实现某个功能
        - F5 不能使用：汇编指令 + 寄存器 + 堆栈 
          - 《汇编语言》王爽
          - 如果有代码特别难懂 OD
        - 《逆向工程核心原理》
        - 文件格式 PE 头
    - 木马 功能的叠加
      - 实现A功能
      - B
      - C

## 实现一个木马界的hello world

根据最简单的木马

头文件

main==>函数

字符串



木马界最简单的 程序 再分析

https://bbs.kanxue.com/new-digest.htm

- 木马的推荐
  - 开源
  - 简单的木马
  - 源码层次 VS 反汇编形式 ==> 一 一对比
  - 特性总结
    - 隐蔽性 ==》 不同的技术手段

## 免杀的实现

1. 发现我
   1. 内核信息：存了多少个进程，更改内核信息
2. 杀了我
   1. 权限、root
   2. 金蝉脱壳：A <=> B（木马）A \B 进程很像 ，杀掉了A
   3. 杀毒软件的漏洞
      1. 